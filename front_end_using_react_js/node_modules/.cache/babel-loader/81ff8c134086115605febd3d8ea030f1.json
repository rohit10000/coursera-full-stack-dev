{"ast":null,"code":"import _classCallCheck from\"/home/rohit/Public/dev_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/rohit/Public/dev_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/rohit/Public/dev_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/rohit/Public/dev_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Menu from'./Menu';import DishDetail from'./DishDetail';import Header from\"./Header\";import Footer from\"./Footer\";import{Switch,Route,Redirect,withRouter}from'react-router-dom';import{actions}from'react-redux-form';import{TransitionGroup,CSSTransition}from\"react-transition-group\";import Home from\"./Home\";import Contact from\"./Contact\";import About from\"./About\";import{connect}from'react-redux';import{postComment as _postComment,fetchDishes as _fetchDishes,fetchComments as _fetchComments,fetchPromos as _fetchPromos,fetchLeaders as _fetchLeaders,postFeedback as _postFeedback}from'../redux/ActionCreators';var Main=/*#__PURE__*/function(_Component){_inherits(Main,_Component);var _super=_createSuper(Main);function Main(){_classCallCheck(this,Main);return _super.apply(this,arguments);}_createClass(Main,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.fetchDishes();this.props.fetchComments();this.props.fetchPromos();this.props.fetchLeaders();}},{key:\"render\",value:function render(){var _this=this;console.log(\"Debug in Main: \",this.props);var HomePage=function HomePage(){return/*#__PURE__*/React.createElement(Home,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.featured;})[0],dishesLoading:_this.props.dishes.isLoading,dishErrMess:_this.props.dishes.errMess,promotion:_this.props.promotions.promotions.filter(function(promo){return promo.featured;})[0],promoLoading:_this.props.promotions.isLoading,promoErrMess:_this.props.promotions.errMess,leaderLoading:_this.props.leaders.isLoading,leaderErrMess:_this.props.leaders.errMess,leader:_this.props.leaders.leaders.filter(function(leader){return leader.featured;})[0]});};var DishWithId=function DishWithId(_ref){var match=_ref.match;return/*#__PURE__*/React.createElement(DishDetail,{dish:_this.props.dishes.dishes.filter(function(dish){return dish.id===parseInt(match.params.dishId,10);})[0],isLoading:_this.props.dishes.isLoading,errMess:_this.props.dishes.errMess,comments:_this.props.comments.comments.filter(function(comment){return comment.dishId===parseInt(match.params.dishId,10);}),commentsErrMess:_this.props.comments.errMess,postComment:_this.props.postComment});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(TransitionGroup,null,/*#__PURE__*/React.createElement(CSSTransition,{key:this.props.location.key,classNames:\"page\",timeout:300},/*#__PURE__*/React.createElement(Switch,{location:this.props.location},/*#__PURE__*/React.createElement(Route,{path:\"/home\",component:HomePage}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/aboutus\",component:function component(){return/*#__PURE__*/React.createElement(About,{leaders:_this.props.leaders});}}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/menu\",component:function component(){return/*#__PURE__*/React.createElement(Menu,{dishes:_this.props.dishes});}}),/*#__PURE__*/React.createElement(Route,{path:\"/menu/:dishId\",component:DishWithId}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/contactus\",component:function component(){return/*#__PURE__*/React.createElement(Contact,{resetFeedbackForm:_this.props.resetFeedbackForm,postFeedback:_this.props.postFeedback});}}),/*#__PURE__*/React.createElement(Redirect,{to:\"/home\"})))),/*#__PURE__*/React.createElement(Footer,null));}}]);return Main;}(Component);var mapStateToProps=function mapStateToProps(state){return{dishes:state.dishes,comments:state.comments,promotions:state.promotions,leaders:state.leaders};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{postComment:function postComment(dishId,rating,author,comment){dispatch(_postComment(dishId,rating,author,comment));},fetchDishes:function fetchDishes(){dispatch(_fetchDishes());},resetFeedbackForm:function resetFeedbackForm(){dispatch(actions.reset('feedback'));},fetchComments:function fetchComments(){return dispatch(_fetchComments());},fetchPromos:function fetchPromos(){return dispatch(_fetchPromos());},fetchLeaders:function fetchLeaders(){return dispatch(_fetchLeaders());},postFeedback:function postFeedback(feedback){return dispatch(_postFeedback(feedback));}};};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(Main));","map":{"version":3,"sources":["/home/rohit/Public/dev_app/src/components/Main.js"],"names":["React","Component","Menu","DishDetail","Header","Footer","Switch","Route","Redirect","withRouter","actions","TransitionGroup","CSSTransition","Home","Contact","About","connect","postComment","fetchDishes","fetchComments","fetchPromos","fetchLeaders","postFeedback","Main","props","console","log","HomePage","dishes","filter","dish","featured","isLoading","errMess","promotions","promo","leaders","leader","DishWithId","match","id","parseInt","params","dishId","comments","comment","location","key","resetFeedbackForm","mapStateToProps","state","mapDispatchToProps","dispatch","rating","author","reset","feedback"],"mappings":"ojBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,QAAxB,CAAkCC,UAAlC,KAAoD,kBAApD,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,OAAQC,eAAR,CAAyBC,aAAzB,KAA6C,wBAA7C,CAEA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,OAASC,OAAT,KAAwB,aAAxB,CACA,OACIC,WAAW,GAAXA,CAAAA,YADJ,CAEIC,WAAW,GAAXA,CAAAA,YAFJ,CAGIC,aAAa,GAAbA,CAAAA,cAHJ,CAIIC,WAAW,GAAXA,CAAAA,YAJJ,CAKIC,YAAY,GAAZA,CAAAA,aALJ,CAMIC,YAAY,GAAZA,CAAAA,aANJ,KAOO,yBAPP,C,GASMC,CAAAA,I,0PAGkB,CAChB,KAAKC,KAAL,CAAWN,WAAX,GACA,KAAKM,KAAL,CAAWL,aAAX,GACA,KAAKK,KAAL,CAAWJ,WAAX,GACA,KAAKI,KAAL,CAAWH,YAAX,GACH,C,uCAEQ,gBACLI,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA+B,KAAKF,KAApC,EAEA,GAAMG,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,mBACI,oBAAC,IAAD,EACI,IAAI,CAAE,KAAI,CAACH,KAAL,CAAWI,MAAX,CAAkBA,MAAlB,CAAyBC,MAAzB,CAAgC,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,QAAf,EAAhC,EAAyD,CAAzD,CADV,CAEI,aAAa,CAAE,KAAI,CAACP,KAAL,CAAWI,MAAX,CAAkBI,SAFrC,CAGI,WAAW,CAAE,KAAI,CAACR,KAAL,CAAWI,MAAX,CAAkBK,OAHnC,CAII,SAAS,CAAE,KAAI,CAACT,KAAL,CAAWU,UAAX,CAAsBA,UAAtB,CAAiCL,MAAjC,CAAwC,SAACM,KAAD,QAAWA,CAAAA,KAAK,CAACJ,QAAjB,EAAxC,EAAmE,CAAnE,CAJf,CAKI,YAAY,CAAE,KAAI,CAACP,KAAL,CAAWU,UAAX,CAAsBF,SALxC,CAMI,YAAY,CAAE,KAAI,CAACR,KAAL,CAAWU,UAAX,CAAsBD,OANxC,CAOI,aAAa,CAAE,KAAI,CAACT,KAAL,CAAWY,OAAX,CAAmBJ,SAPtC,CAQI,aAAa,CAAE,KAAI,CAACR,KAAL,CAAWY,OAAX,CAAmBH,OARtC,CASI,MAAM,CAAE,KAAI,CAACT,KAAL,CAAWY,OAAX,CAAmBA,OAAnB,CAA2BP,MAA3B,CAAkC,SAACQ,MAAD,QAAYA,CAAAA,MAAM,CAACN,QAAnB,EAAlC,EAA+D,CAA/D,CATZ,EADJ,CAaH,CAdD,CAgBA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CAC5B,mBACI,oBAAC,UAAD,EAAY,IAAI,CAAE,KAAI,CAACf,KAAL,CAAWI,MAAX,CAAkBA,MAAlB,CAAyBC,MAAzB,CAAgC,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACU,EAAL,GAAYC,QAAQ,CAACF,KAAK,CAACG,MAAN,CAAaC,MAAd,CAAqB,EAArB,CAA9B,EAAhC,EAAwF,CAAxF,CAAlB,CACY,SAAS,CAAE,KAAI,CAACnB,KAAL,CAAWI,MAAX,CAAkBI,SADzC,CAEY,OAAO,CAAE,KAAI,CAACR,KAAL,CAAWI,MAAX,CAAkBK,OAFvC,CAGY,QAAQ,CAAE,KAAI,CAACT,KAAL,CAAWoB,QAAX,CAAoBA,QAApB,CAA6Bf,MAA7B,CAAoC,SAACgB,OAAD,QAAaA,CAAAA,OAAO,CAACF,MAAR,GAAmBF,QAAQ,CAACF,KAAK,CAACG,MAAN,CAAaC,MAAd,CAAqB,EAArB,CAAxC,EAApC,CAHtB,CAIY,eAAe,CAAE,KAAI,CAACnB,KAAL,CAAWoB,QAAX,CAAoBX,OAJjD,CAKY,WAAW,CAAE,KAAI,CAACT,KAAL,CAAWP,WALpC,EADJ,CASH,CAVD,CAYA,mBACI,4CACI,oBAAC,MAAD,MADJ,cAEI,oBAAC,eAAD,mBACI,oBAAC,aAAD,EAAe,GAAG,CAAE,KAAKO,KAAL,CAAWsB,QAAX,CAAoBC,GAAxC,CAA6C,UAAU,CAAC,MAAxD,CAA+D,OAAO,CAAE,GAAxE,eACI,oBAAC,MAAD,EAAQ,QAAQ,CAAE,KAAKvB,KAAL,CAAWsB,QAA7B,eACI,oBAAC,KAAD,EAAO,IAAI,CAAC,OAAZ,CAAoB,SAAS,CAAEnB,QAA/B,EADJ,cAEI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,CAA6B,SAAS,CAAE,wCAAM,oBAAC,KAAD,EAAO,OAAO,CAAE,KAAI,CAACH,KAAL,CAAWY,OAA3B,EAAN,EAAxC,EAFJ,cAGI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,CAA0B,SAAS,CAAE,wCAAM,oBAAC,IAAD,EAAM,MAAM,CAAE,KAAI,CAACZ,KAAL,CAAWI,MAAzB,EAAN,EAArC,EAHJ,cAII,oBAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,CAA4B,SAAS,CAAEU,UAAvC,EAJJ,cAKI,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,YAAlB,CACO,SAAS,CACL,wCAAM,oBAAC,OAAD,EAAS,iBAAiB,CAAE,KAAI,CAACd,KAAL,CAAWwB,iBAAvC,CACS,YAAY,CAAE,KAAI,CAACxB,KAAL,CAAWF,YADlC,EAAN,EAFX,EALJ,cAWI,oBAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAXJ,CADJ,CADJ,CAFJ,cAmBI,oBAAC,MAAD,MAnBJ,CADJ,CAuBH,C,kBAhEcrB,S,EAkEnB,GAAMgD,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAO,CACHtB,MAAM,CAAEsB,KAAK,CAACtB,MADX,CAEHgB,QAAQ,CAAEM,KAAK,CAACN,QAFb,CAGHV,UAAU,CAAEgB,KAAK,CAAChB,UAHf,CAIHE,OAAO,CAAEc,KAAK,CAACd,OAJZ,CAAP,CAMH,CAPD,CASA,GAAMe,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAc,CACrC,MAAM,CACFnC,WAAW,CAAE,qBAAC0B,MAAD,CAASU,MAAT,CAAiBC,MAAjB,CAAyBT,OAAzB,CAAqC,CAC9CO,QAAQ,CAACnC,YAAW,CAAC0B,MAAD,CAASU,MAAT,CAAiBC,MAAjB,CAAyBT,OAAzB,CAAZ,CAAR,CACH,CAHC,CAIF3B,WAAW,CAAE,sBAAK,CACdkC,QAAQ,CAAClC,YAAW,EAAZ,CAAR,CACH,CANC,CAOF8B,iBAAiB,CAAE,4BAAI,CACnBI,QAAQ,CAAC1C,OAAO,CAAC6C,KAAR,CAAc,UAAd,CAAD,CAAR,CACH,CATC,CAUFpC,aAAa,CAAE,+BAAMiC,CAAAA,QAAQ,CAACjC,cAAa,EAAd,CAAd,EAVb,CAWFC,WAAW,CAAE,6BAAMgC,CAAAA,QAAQ,CAAChC,YAAW,EAAZ,CAAd,EAXX,CAYFC,YAAY,CAAE,8BAAM+B,CAAAA,QAAQ,CAAC/B,aAAY,EAAb,CAAd,EAZZ,CAaFC,YAAY,CAAE,sBAACkC,QAAD,QAAcJ,CAAAA,QAAQ,CAAC9B,aAAY,CAACkC,QAAD,CAAb,CAAtB,EAbZ,CAAN,CAeH,CAhBD,CAmBA,cAAe/C,CAAAA,UAAU,CAACO,OAAO,CAACiC,eAAD,CAAkBE,kBAAlB,CAAP,CAA6C5B,IAA7C,CAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport Menu from './Menu';\nimport DishDetail from './DishDetail';\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport { Switch, Route, Redirect, withRouter } from 'react-router-dom';\nimport { actions } from 'react-redux-form';\n\nimport {TransitionGroup, CSSTransition} from \"react-transition-group\";\n\nimport Home from \"./Home\";\nimport Contact from \"./Contact\";\nimport About from \"./About\";\n\nimport { connect } from 'react-redux';\nimport {\n    postComment,\n    fetchDishes,\n    fetchComments,\n    fetchPromos,\n    fetchLeaders,\n    postFeedback\n} from '../redux/ActionCreators';\n\nclass Main extends Component {\n\n\n    componentDidMount() {\n        this.props.fetchDishes();\n        this.props.fetchComments();\n        this.props.fetchPromos();\n        this.props.fetchLeaders();\n    }\n\n    render() {\n        console.log(\"Debug in Main: \", this.props);\n\n        const HomePage = () => {\n            return(\n                <Home\n                    dish={this.props.dishes.dishes.filter((dish) => dish.featured)[0]}\n                    dishesLoading={this.props.dishes.isLoading}\n                    dishErrMess={this.props.dishes.errMess}\n                    promotion={this.props.promotions.promotions.filter((promo) => promo.featured)[0]}\n                    promoLoading={this.props.promotions.isLoading}\n                    promoErrMess={this.props.promotions.errMess}\n                    leaderLoading={this.props.leaders.isLoading}\n                    leaderErrMess={this.props.leaders.errMess}\n                    leader={this.props.leaders.leaders.filter((leader) => leader.featured)[0]}\n                />\n            );\n        };\n\n        const DishWithId = ({match}) => {\n            return(\n                <DishDetail dish={this.props.dishes.dishes.filter((dish) => dish.id === parseInt(match.params.dishId,10))[0]}\n                            isLoading={this.props.dishes.isLoading}\n                            errMess={this.props.dishes.errMess}\n                            comments={this.props.comments.comments.filter((comment) => comment.dishId === parseInt(match.params.dishId,10))}\n                            commentsErrMess={this.props.comments.errMess}\n                            postComment={this.props.postComment}\n                />\n            );\n        };\n\n        return (\n            <div>\n                <Header/>\n                <TransitionGroup>\n                    <CSSTransition key={this.props.location.key} classNames=\"page\" timeout={300}>\n                        <Switch location={this.props.location}>\n                            <Route path='/home' component={HomePage} />\n                            <Route exact path='/aboutus' component={() => <About leaders={this.props.leaders} />} />\n                            <Route exact path='/menu' component={() => <Menu dishes={this.props.dishes} />} />\n                            <Route path='/menu/:dishId' component={DishWithId} />\n                            <Route exact path='/contactus'\n                                   component={\n                                       () => <Contact resetFeedbackForm={this.props.resetFeedbackForm}\n                                                      postFeedback={this.props.postFeedback}/>\n                                   }\n                            />\n                            <Redirect to=\"/home\" />\n                        </Switch>\n                    </CSSTransition>\n                </TransitionGroup>\n                <Footer/>\n            </div>\n        );\n    }\n}\nconst mapStateToProps = state => {\n    return {\n        dishes: state.dishes,\n        comments: state.comments,\n        promotions: state.promotions,\n        leaders: state.leaders\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return{\n        postComment: (dishId, rating, author, comment) => {\n            dispatch(postComment(dishId, rating, author, comment))\n        },\n        fetchDishes: () =>{\n            dispatch(fetchDishes())\n        },\n        resetFeedbackForm: ()=>{\n            dispatch(actions.reset('feedback'))\n        },\n        fetchComments: () => dispatch(fetchComments()),\n        fetchPromos: () => dispatch(fetchPromos()),\n        fetchLeaders: () => dispatch(fetchLeaders()),\n        postFeedback: (feedback) => dispatch(postFeedback(feedback))\n    }\n}\n\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));\n"]},"metadata":{},"sourceType":"module"}